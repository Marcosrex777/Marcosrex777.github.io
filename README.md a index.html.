<!DOCTYPE html>
<html>
<head>
    <title>Calculadora de Salarios</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
        }
        #result {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Calculadora de Salarios</h1>
    <div id="result"></div>

    <script>
        
        var totalSalarios = 0;
        var totalHorasExtras = 0;
        var empleadoCount = 0;

        
        function calcularArbitrioMunicipal(ingresoMensual) {
            var arbitrio = 0;
            var multa = 0;

            if (ingresoMensual < 500) {
                arbitrio = 4;
                multa = 8;
            } else if (ingresoMensual >= 500 && ingresoMensual < 1000) {
                arbitrio = 10;
                multa = 20;
            } else if (ingresoMensual >= 1000 && ingresoMensual < 3000) {
                arbitrio = 15;
                multa = 30;
            } else if (ingresoMensual >= 3000 && ingresoMensual < 6000) {
                arbitrio = 50;
                multa = 100;
            } else if (ingresoMensual >= 6000 && ingresoMensual < 9000) {
                arbitrio = 75;
                multa = 150;
            } else if (ingresoMensual >= 9000 && ingresoMensual < 12000) {
                arbitrio = 100;
                multa = 200;
            } else {
                arbitrio = 150;
                multa = 300;
            }

            return [arbitrio, multa];
        }

        
        function calcularSalario() {
            var salarioMensual = parseFloat(prompt("Ingrese el salario mensual del empleado:"));
            var bonificacion = parseFloat(prompt("Ingrese la bonificación del empleado:"));
            var igss = salarioMensual * 0.04; // Calculamos el IGSS

            var [arbitrio, multa] = calcularArbitrioMunicipal(salarioMensual + bonificacion);

            var salarioARecibir = salarioMensual - igss + bonificacion;

            totalSalarios += salarioARecibir;
            empleadoCount++;

            var resultText = `Empleado ${empleadoCount}: Salario a Recibir = Q${salarioARecibir.toFixed(2)}, IGSS = Q${igss.toFixed(2)}, Arbitrio = Q${arbitrio.toFixed(2)}, Multa = Q${multa.toFixed(2)}`;

            document.getElementById("result").innerHTML += resultText + "<br>";
        }

      
        function calcularHorasExtras() {
            var horasExtras = parseFloat(prompt("Ingrese la cantidad de horas extras realizadas (ingrese un número negativo para terminar):"));
            while (horasExtras > 0) {
                totalHorasExtras += horasExtras;
                horasExtras = parseFloat(prompt("Ingrese la cantidad de horas extras realizadas (ingrese un número negativo para terminar):"));
            }
        }

        // Función para mostrar el promedio y suma de los salarios
        function mostrarPromedioYSuma() {
            var promedioSalarios = totalSalarios / empleadoCount;
            var sumaSalarios = totalSalarios;
            var resultText = `Promedio de Salarios = Q${promedioSalarios.toFixed(2)}, Suma de Salarios = Q${sumaSalarios.toFixed(2)}`;
            document.getElementById("result").innerHTML += "<br><br>" + resultText;
        }

       
        var numEmpleados = parseInt(prompt("Ingrese la cantidad de empleados:"));
        for (var i = 0; i < numEmpleados; i++) {
            calcularSalario();
        }

       
        calcularHorasExtras();

        
        mostrarPromedioYSuma();
    </script>
</body>
</html>
